{"ast":null,"code":"var _jsxFileName = \"/Users/mihailladanov/Documents/e-commerce/e-commerce-product-page/src/components/Header/Dropdown/UnsignedDropdown.tsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { Formik, Form, Field } from \"formik\";\nimport { NavLink } from \"react-router-dom\";\nimport * as Yup from \"yup\";\nimport axios from \"axios\";\nimport { useDispatch } from \"react-redux\";\nimport { signIn } from \"../../../redux/slices/userSlice\";\nimport useNotify from \"../../hooks/useNotify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SignInSchema = Yup.object().shape({\n  email: Yup.string().email(\"Invalid email\").required(\"Required\"),\n  password: Yup.string().required(\"Required\")\n});\nexport const UnsignedDropdown = () => {\n  _s();\n  const [toggleNotify] = useNotify();\n  const dispatch = useDispatch();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\" \", /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Sign In\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: {\n        email: \"\",\n        password: \"\"\n      },\n      validationSchema: SignInSchema,\n      onSubmit: async values => {\n        await axios.post(\"http://localhost:3001/api/user/login/\", values).then(res => {\n          dispatch(signIn(res.data.token));\n          toggleNotify('Вы успешно вошли!');\n        }).catch(err => toggleNotify(err.response.data.message));\n      },\n      children: ({\n        errors,\n        touched\n      }) => /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(Field, {\n          name: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this), errors.email && touched.email ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: errors.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 46\n        }, this) : null, /*#__PURE__*/_jsxDEV(Field, {\n          type: \"password\",\n          name: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this), errors.password && touched.password ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: errors.password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 15\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"signup-btn\",\n      children: [\"Don't have an account yet?\", /*#__PURE__*/_jsxDEV(NavLink, {\n        to: \"signup/\",\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }, this);\n};\n_s(UnsignedDropdown, \"GG1Qv8vpcqPNOpP09vrhYQ6r92A=\", false, function () {\n  return [useNotify, useDispatch];\n});\n_c = UnsignedDropdown;\nvar _c;\n$RefreshReg$(_c, \"UnsignedDropdown\");","map":{"version":3,"names":["React","Formik","Form","Field","NavLink","Yup","axios","useDispatch","signIn","useNotify","jsxDEV","_jsxDEV","SignInSchema","object","shape","email","string","required","password","UnsignedDropdown","_s","toggleNotify","dispatch","children","fileName","_jsxFileName","lineNumber","columnNumber","initialValues","validationSchema","onSubmit","values","post","then","res","data","token","catch","err","response","message","errors","touched","name","type","className","to","_c","$RefreshReg$"],"sources":["/Users/mihailladanov/Documents/e-commerce/e-commerce-product-page/src/components/Header/Dropdown/UnsignedDropdown.tsx"],"sourcesContent":["import React from \"react\";\nimport { Formik, Form, Field } from \"formik\";\nimport { NavLink } from \"react-router-dom\";\nimport * as Yup from \"yup\";\nimport axios from \"axios\";\nimport { useDispatch } from \"react-redux\";\nimport { signIn } from \"../../../redux/slices/userSlice\";\nimport useNotify from \"../../hooks/useNotify\";\n\nconst SignInSchema = Yup.object().shape({\n  email: Yup.string().email(\"Invalid email\").required(\"Required\"),\n  password: Yup.string().required(\"Required\"),\n});\n\nexport const UnsignedDropdown = () => {\n  const [toggleNotify] = useNotify()\n  const dispatch = useDispatch();\n  return (\n    <div>\n      {\" \"}\n      <h1>Sign In</h1>\n      <hr />\n      <Formik\n        initialValues={{\n          email: \"\",\n          password: \"\",\n        }}\n        validationSchema={SignInSchema}\n        onSubmit={async (values) => {\n          await axios\n            .post(\"http://localhost:3001/api/user/login/\", values)\n            .then((res) => {\n              dispatch(signIn(res.data.token));\n              toggleNotify('Вы успешно вошли!')\n            })\n            .catch((err) => toggleNotify(err.response.data.message)); \n        }}\n      >\n        {({ errors, touched }) => (\n          <Form>\n            <Field name=\"email\" />\n            {errors.email && touched.email ? <div>{errors.email}</div> : null}\n            <Field type=\"password\" name=\"password\" />\n            {errors.password && touched.password ? (\n              <div>{errors.password}</div>\n            ) : null}\n            <button type=\"submit\">Sign In</button>\n          </Form>\n        )}\n      </Formik>\n      <div className=\"signup-btn\">\n        Don't have an account yet?\n        <NavLink to=\"signup/\">Sign Up</NavLink>\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}