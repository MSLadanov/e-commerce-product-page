{"ast":null,"code":"var _jsxFileName = \"/Users/mihailladanov/Documents/e-commerce/e-commerce-product-page/src/components/Routes/Women/Women.tsx\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { SneakerCard } from \"../../SneakerCard/SneakerCard\";\nimport { SearchAndSort } from \"../../SearchAndSort/SearchAndSort\";\nimport { useSelector } from \"react-redux\";\nimport { getSortData } from \"../../../redux/slices/sortSlice\";\nimport { getSearchData } from \"../../../redux/slices/searchSlice\";\nimport \"../Men/style.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Women() {\n  _s();\n  const [data, setData] = useState([]);\n  const [initialData, setInitialData] = useState([]);\n  const sort = useSelector(getSortData);\n  const search = useSelector(getSearchData);\n  const getSneakers = async () => {\n    const sneakers = (await axios.get(\"http://localhost:3001/api/sneaker/\")).data;\n    setData(sneakers.filter(item => item.sex === \"WOMEN\"));\n    setInitialData(sneakers.filter(item => item.sex === \"WOMEN\"));\n  };\n  const searchFunction = (a, b) => {\n    if (a.name.toLowerCase().match(search.toLowerCase()) || a.brand.toLowerCase().match(search.toLowerCase())) {\n      return -1;\n    } else {\n      return 0;\n    }\n  };\n  useEffect(() => {\n    getSneakers();\n  }, []);\n  useEffect(() => {\n    if (search.length !== 0) {\n      data.sort((a, b) => searchFunction(a, b));\n    }\n    if (search.length === 0) {\n      setData(initialData);\n      if (sort.length !== 0) {\n        gigaSortFunction();\n      }\n    }\n  }, [search]);\n  useEffect(() => {\n    gigaSortFunction();\n  }, [sort]);\n  const gigaSortFunction = () => {\n    switch (sort) {\n      case \"price_up\":\n        data.sort((a, b) => b.price - a.price);\n        break;\n      case \"discount_up\":\n        data.sort((a, b) => b.discount - a.discount);\n        break;\n      case \"discount_down\":\n        data.sort((a, b) => a.discount - b.discount);\n        break;\n      case \"price_down\":\n        data.sort((a, b) => a.price - b.price);\n        break;\n    }\n  };\n  if (!data.length) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"No data!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(SearchAndSort, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cards\",\n      children: data.map((item, index) => /*#__PURE__*/_jsxDEV(SneakerCard, {\n        sneaker: item\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n_s(Women, \"kRA81gcSUGX+bQNATOF1bD0Pfas=\", false, function () {\n  return [useSelector, useSelector];\n});\n_c = Women;\nvar _c;\n$RefreshReg$(_c, \"Women\");","map":{"version":3,"names":["axios","React","useState","useEffect","SneakerCard","SearchAndSort","useSelector","getSortData","getSearchData","jsxDEV","_jsxDEV","Fragment","_Fragment","Women","_s","data","setData","initialData","setInitialData","sort","search","getSneakers","sneakers","get","filter","item","sex","searchFunction","a","b","name","toLowerCase","match","brand","length","gigaSortFunction","price","discount","children","fileName","_jsxFileName","lineNumber","columnNumber","className","map","index","sneaker","_c","$RefreshReg$"],"sources":["/Users/mihailladanov/Documents/e-commerce/e-commerce-product-page/src/components/Routes/Women/Women.tsx"],"sourcesContent":["import axios from \"axios\";\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { SneakerCard } from \"../../SneakerCard/SneakerCard\";\nimport { SearchAndSort } from \"../../SearchAndSort/SearchAndSort\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getSortData } from \"../../../redux/slices/sortSlice\";\nimport { getSearchData } from \"../../../redux/slices/searchSlice\";\nimport \"../Men/style.scss\";\n\nexport default function Women() {\n  const [data, setData] = useState([]);\n  const [initialData, setInitialData] = useState([])\n  const sort = useSelector(getSortData);\n  const search = useSelector(getSearchData);\n  const getSneakers = async () => {\n    const sneakers = (await axios.get(\"http://localhost:3001/api/sneaker/\"))\n      .data as any;\n    setData(sneakers.filter((item: any) => item.sex === \"WOMEN\"));\n    setInitialData(sneakers.filter((item: any) => item.sex === \"WOMEN\"))\n  };\n  const searchFunction = (a : any,b : any)  => {\n    if (a.name.toLowerCase().match(search.toLowerCase()) || a.brand.toLowerCase().match(search.toLowerCase())){\n      return -1\n    } else {\n      return 0\n    }\n  }\n  useEffect(() => {\n    getSneakers();\n  }, []);\n  useEffect(() => {\n    if(search.length !== 0){\n      data.sort((a:any,b:any) => searchFunction(a,b))\n    }\n    if(search.length === 0){\n      setData(initialData)\n      if(sort.length !== 0){\n        gigaSortFunction()\n      }\n    }\n  }, [search])\n  useEffect(() => {\n   gigaSortFunction()\n  }, [sort])\n  \n  const gigaSortFunction = () => {\n    switch (sort) {\n      case \"price_up\":\n        data.sort((a:any,b:any) => b.price - a.price)\n        break;\n      case \"discount_up\":\n        data.sort((a:any,b:any) => b.discount - a.discount)\n        break;\n      case \"discount_down\":\n        data.sort((a:any,b:any) => a.discount - b.discount)\n        break;\n      case \"price_down\":\n        data.sort((a:any,b:any) => a.price - b.price)\n        break;\n    }\n  }\n  if (!data.length) {\n    return <div>No data!</div>;\n  }\n  return (\n    <>\n    <SearchAndSort />\n    <div className=\"cards\">\n      {data.map((item, index) => (\n        <SneakerCard sneaker={item} key={index} />\n      ))}\n    </div>\n  </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}