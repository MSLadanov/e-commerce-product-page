{"ast":null,"code":"var _jsxFileName = \"/Users/mihailladanov/Documents/e-commerce/e-commerce-product-page/src/components/Routes/Cart/Cart.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nimport { getCartData } from \"../../../redux/slices/cartSlice\";\nimport { removeSneaker } from \"../../../redux/slices/cartSlice\";\nimport { useDispatch } from \"react-redux\";\nimport { getToken } from \"../../../redux/slices/userSlice\";\nimport useNotify from '../../hooks/useNotify';\nimport \"./style.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Cart = () => {\n  _s();\n  const [toggleNotify] = useNotify();\n  const [address, setAddress] = useState('');\n  const cartData = useSelector(getCartData);\n  const dispatch = useDispatch();\n  const token = useSelector(getToken);\n  const makeOrder = () => {\n    const orderData = [];\n    cartData.map(item => {\n      orderData.push({\n        id: item.id,\n        name: item.name,\n        brand: item.brand,\n        size: item.size,\n        price: item.price,\n        img: item.img\n      });\n    });\n    let sum = cartData.reduce(function (acc, obj) {\n      return acc + obj.price;\n    }, 0);\n    const orderDetails = {\n      order: orderData,\n      address,\n      sum\n    };\n    const order = axios.post(\"http://localhost:3001/api/basket/send\", orderDetails, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => toggleNotify(res.data.message)).catch(err => {\n      toggleNotify(err.response.data.message);\n    });\n  };\n  if (!cartData.length) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Your cart is empty\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [cartData.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-item\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: `http://localhost:3001/${item.img}`,\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: item.brand + \" \" + item.name + \", \" + \" Size: \" + item.size\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: item.price + \" \" + \"$\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"delete-icon\",\n        onClick: () => dispatch(removeSneaker(item.cart_id)),\n        src: \"/images/icon-delete.svg\",\n        alt: \"cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this)]\n    }, item.cart_id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this)), token !== null ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Input your address\",\n        onChange: e => setAddress(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"cart-btn\",\n        onClick: () => makeOrder(),\n        children: \"Make order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"center\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"You must be logged in to complete your order!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(Cart, \"M9fNqUPbrswc313VFZbYJ3wTm70=\", false, function () {\n  return [useNotify, useSelector, useDispatch, useSelector];\n});\n_c = Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useState","axios","useSelector","getCartData","removeSneaker","useDispatch","getToken","useNotify","jsxDEV","_jsxDEV","Fragment","_Fragment","Cart","_s","toggleNotify","address","setAddress","cartData","dispatch","token","makeOrder","orderData","map","item","push","id","name","brand","size","price","img","sum","reduce","acc","obj","orderDetails","order","post","headers","Authorization","then","res","data","message","catch","err","response","length","children","fileName","_jsxFileName","lineNumber","columnNumber","className","src","alt","onClick","cart_id","type","placeholder","onChange","e","target","value","_c","$RefreshReg$"],"sources":["/Users/mihailladanov/Documents/e-commerce/e-commerce-product-page/src/components/Routes/Cart/Cart.tsx"],"sourcesContent":["import React, { useState } from 'react'\nimport axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nimport { getCartData } from \"../../../redux/slices/cartSlice\";\nimport { removeSneaker } from \"../../../redux/slices/cartSlice\";\nimport { useDispatch } from \"react-redux\";\nimport { getToken } from \"../../../redux/slices/userSlice\";\nimport useNotify from '../../hooks/useNotify';\nimport \"./style.scss\";\n\nexport const Cart = () => {\n  const [toggleNotify] = useNotify()\n  const [address, setAddress] = useState('')\n  const cartData = useSelector(getCartData);\n  const dispatch = useDispatch();\n  const token = useSelector(getToken);\n  const makeOrder = () => {\n    const orderData: any[] = []\n    cartData.map((item : any) => {orderData.push({\n      id: item.id,\n      name: item.name,\n      brand: item.brand,\n      size: item.size,\n      price: item.price,\n      img: item.img\n    });})\n    let sum = cartData.reduce(function (acc : any, obj : any) { return acc + obj.price; }, 0);\n    const orderDetails = {\n        order:orderData,\n        address,\n        sum\n      }\n    const order = axios.post(\n      \"http://localhost:3001/api/basket/send\",\n      orderDetails,\n      {\n        headers: {\n          Authorization: `Bearer ${token}`\n        },\n      }\n    ).then((res) => toggleNotify(res.data.message)).catch((err) => {toggleNotify(err.response.data.message)});\n  }\n  if (!cartData.length) {\n    return (\n      <>\n        <h1>Cart</h1>\n        <h2>Your cart is empty</h2>\n      </>\n    );\n  }\n  return (\n    <div>\n      {cartData.map((item: any) => (\n        <div className=\"cart-item\" key={item.cart_id}>\n          <img src={`http://localhost:3001/${item.img}`} alt=\"\" />\n          <p>{item.brand + \" \" + item.name + \", \" + \" Size: \" + item.size}</p>\n          <p>{item.price + \" \" + \"$\"}</p>\n          <img\n            className=\"delete-icon\"\n            onClick={() => dispatch(removeSneaker(item.cart_id))}\n            src=\"/images/icon-delete.svg\"\n            alt=\"cart\"\n          />\n        </div>\n      ))}\n      {token !== null ? (\n        <div>\n          <input type=\"text\" placeholder='Input your address' onChange={(e) => setAddress(e.target.value)} />\n          <button className=\"cart-btn\" onClick={() => makeOrder()}>\n            Make order\n          </button>\n        </div>\n      ) : (\n        <div className=\"center\">\n          <h1>You must be logged in to complete your order!</h1>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}